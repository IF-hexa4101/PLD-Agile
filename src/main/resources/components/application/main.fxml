<?xml version="1.0" encoding="UTF-8"?>

<?import components.mapscreen.MapScreen?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import components.planningdetails.PlanningDetails?>
<?import javafx.geometry.Insets?>
<?import components.citymapdetails.CityMapDetails?>
<?import components.deliveryrequestdetails.DeliveryRequestDetails?>
<fx:root type="BorderPane" fx:id="root" prefHeight="480.0" prefWidth="640.0"
         stylesheets="/components/application/main.css"
         xmlns="http://javafx.com/javafx/8.0.65"
         xmlns:fx="http://javafx.com/fxml/1">
  <top>
    <ToolBar prefHeight="40.0" prefWidth="200.0" BorderPane.alignment="CENTER">
      <Button fx:id="openCityMapButton" mnemonicParsing="false"
              onAction="#onOpenCityMapButtonAction" text="%open_city_map"/>
      <Button fx:id="openDeliveryRequestButton" mnemonicParsing="false"
              onAction="#onOpenDeliveryRequestButtonAction"
              text="%open_delivery_request"/>
      <Button fx:id="computePlanningButton" mnemonicParsing="false"
              onAction="#onComputePlanningButtonAction"
              text="%compute_planning"/>
      <Button fx:id="undoButton" mnemonicParsing="false"
      		  onAction="#onUndoButtonAction" text="%undo"/>
      <Button fx:id="redoButton" mnemonicParsing="false"
  			  onAction="#onRedoButtonAction" text="%redo"/>
    </ToolBar>
  </top>
  <center>
    <SplitPane dividerPositions="0.75" prefHeight="160.0" prefWidth="200.0"
               BorderPane.alignment="CENTER">
      <AnchorPane BorderPane.alignment="CENTER">
        <MapScreen cityMap="${controller.cityMap}"
                   deliveryRequest="${controller.deliveryRequest}"
                   planning="${controller.planning}"
                   AnchorPane.bottomAnchor="0"
                   AnchorPane.leftAnchor="0"
                   AnchorPane.rightAnchor="0"
                   AnchorPane.topAnchor="0"/>
        <!--<fx:include fx:id="mapView" source="MapScreen.fxml" />-->
      </AnchorPane>
      <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="160.0"
                  prefWidth="100.0">
        <BorderPane AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0"
                    AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
          <bottom>
            <ButtonBar prefHeight="40.0" prefWidth="200.0"
                       BorderPane.alignment="CENTER">
              <buttons>

              </buttons>
            </ButtonBar>
          </bottom>
          <center>
            <Accordion BorderPane.alignment="CENTER">
              <panes>
                <TitledPane animated="false" text="City Map">
                  <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0"
                                prefHeight="180.0" prefWidth="200.0">
                      <padding>
                        <Insets top="0" right="0" left="0" bottom="0"/>
                      </padding>
                      <CityMapDetails
                        prefHeight="200.0" prefWidth="200.0"
                        AnchorPane.bottomAnchor="0"
                        AnchorPane.leftAnchor="0"
                        AnchorPane.rightAnchor="0"
                        AnchorPane.topAnchor="0"
                        cityMap="${controller.cityMap}">
                      </CityMapDetails>
                    </AnchorPane>
                  </content>
                </TitledPane>
                <TitledPane animated="false" text="Delivery Request">
                  <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0"
                                prefHeight="180.0" prefWidth="200.0">
                      <padding>
                        <Insets top="0" right="0" left="0" bottom="0"/>
                      </padding>
                      <DeliveryRequestDetails
                        prefHeight="200.0" prefWidth="200.0"
                        AnchorPane.bottomAnchor="0"
                        AnchorPane.leftAnchor="0"
                        AnchorPane.rightAnchor="0"
                        AnchorPane.topAnchor="0"
                        deliveryRequest="${controller.deliveryRequest}">
                      </DeliveryRequestDetails>
                    </AnchorPane>
                  </content>
                </TitledPane>
                <TitledPane animated="false" text="Planning">
                  <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0"
                                prefHeight="180.0" prefWidth="200.0">
                      <padding>
                        <Insets top="0" right="0" left="0" bottom="0"/>
                      </padding>
                      <PlanningDetails
                                prefHeight="200.0" prefWidth="200.0"
                                AnchorPane.bottomAnchor="0"
                                AnchorPane.leftAnchor="0"
                                AnchorPane.rightAnchor="0"
                                AnchorPane.topAnchor="0"
                                items="${controller.planning.routes}">
                      </PlanningDetails>
                    </AnchorPane>
                  </content>
                </TitledPane>
              </panes>
            </Accordion>
          </center>
        </BorderPane>
      </AnchorPane>
    </SplitPane>
  </center>
</fx:root>
